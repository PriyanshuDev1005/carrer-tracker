{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/career-goal-tracker/career-goal-tracker/src/lib/mongodb.js"],"sourcesContent":["import mongoose from 'mongoose'\r\n\r\nconst MONGODB_URI = 'mongodb+srv://career-tracker:MmD0AETzR6H9HqZu@cluster0.isjtjhy.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0'\r\n\r\nif (!MONGODB_URI) {\r\n    throw new Error('Please add your Mongo URI to the file.')\r\n}\r\n\r\nlet cached = global.mongoose || { conn: null, promise: null }\r\n\r\n// export async function connectMongo() {\r\n//     if (cached.conn) return cached.conn\r\n\r\n//     if (!cached.promise) {\r\n//         cached.promise = mongoose.connect(MONGODB_URI, {\r\n//             bufferCommands: false,\r\n//         }).then((mongoose) => mongoose)\r\n//     }\r\n\r\n//     cached.conn = await cached.promise\r\n//     console.log(\"connect to database\")\r\n//     return cached.conn\r\n// }\r\n\r\n\r\nexport const connectMongo = async () => {\r\n    // if (mongoose.connections[0].readyState) {\r\n    //     console.log('Already connected')\r\n    //     return\r\n    // }\r\n\r\n    try {\r\n        await mongoose.connect(MONGODB_URI)\r\n        console.log('MongoDB Connected')\r\n    } catch (error) {\r\n        console.error('MongoDB Connection Failed:', error)\r\n        process.exit(1)\r\n    }\r\n}\r\n\r\n\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,cAAc;AAEpB,uCAAkB;;AAElB;AAEA,IAAI,SAAS,OAAO,QAAQ,IAAI;IAAE,MAAM;IAAM,SAAS;AAAK;AAiBrD,MAAM,eAAe;IACxB,4CAA4C;IAC5C,uCAAuC;IACvC,aAAa;IACb,IAAI;IAEJ,IAAI;QACA,MAAM,yGAAA,CAAA,UAAQ,CAAC,OAAO,CAAC;QACvB,QAAQ,GAAG,CAAC;IAChB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,QAAQ,IAAI,CAAC;IACjB;AACJ","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/career-goal-tracker/career-goal-tracker/src/models/task.js"],"sourcesContent":["import mongoose from 'mongoose'\r\n\r\nconst TaskSchema = new mongoose.Schema({\r\n  date: { type: String, required: true },\r\n  tasks: [{ type: String }],\r\n}, { timestamps: true })\r\n\r\nexport default mongoose.models.Task || mongoose.model('Task', TaskSchema)\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,aAAa,IAAI,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC;IACrC,MAAM;QAAE,MAAM;QAAQ,UAAU;IAAK;IACrC,OAAO;QAAC;YAAE,MAAM;QAAO;KAAE;AAC3B,GAAG;IAAE,YAAY;AAAK;uCAEP,yGAAA,CAAA,UAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,yGAAA,CAAA,UAAQ,CAAC,KAAK,CAAC,QAAQ","debugId":null}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/hp/Downloads/career-goal-tracker/career-goal-tracker/src/app/api/tasks/route.js"],"sourcesContent":["import { connectMongo } from '@/lib/mongodb'\r\nimport Task from '@/models/task'\r\n\r\nexport async function GET() {\r\n  await connectMongo()\r\n\r\n  const sevenDaysAgo = new Date()\r\n  sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 6)\r\n  const fromDate = sevenDaysAgo.toISOString().slice(0, 10)\r\n\r\n  const tasks = await Task.find({ date: { $gte: fromDate } }).sort({ date: -1 })\r\n\r\n  return Response.json(tasks)\r\n}\r\n\r\nexport async function POST(request) {\r\n  const { date, tasks } = await request.json()\r\n  await connectMongo()\r\n\r\n  let existing = await Task.findOne({ date })\r\n\r\n  if (existing) {\r\n    existing.tasks = tasks\r\n    await existing.save()\r\n    return Response.json({ message: 'Tasks Updated' })\r\n  } else {\r\n    await Task.create({ date, tasks })\r\n    return Response.json({ message: 'Tasks Added' })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,CAAA,GAAA,uHAAA,CAAA,eAAY,AAAD;IAEjB,MAAM,eAAe,IAAI;IACzB,aAAa,OAAO,CAAC,aAAa,OAAO,KAAK;IAC9C,MAAM,WAAW,aAAa,WAAW,GAAG,KAAK,CAAC,GAAG;IAErD,MAAM,QAAQ,MAAM,uHAAA,CAAA,UAAI,CAAC,IAAI,CAAC;QAAE,MAAM;YAAE,MAAM;QAAS;IAAE,GAAG,IAAI,CAAC;QAAE,MAAM,CAAC;IAAE;IAE5E,OAAO,SAAS,IAAI,CAAC;AACvB;AAEO,eAAe,KAAK,OAAO;IAChC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,QAAQ,IAAI;IAC1C,MAAM,CAAA,GAAA,uHAAA,CAAA,eAAY,AAAD;IAEjB,IAAI,WAAW,MAAM,uHAAA,CAAA,UAAI,CAAC,OAAO,CAAC;QAAE;IAAK;IAEzC,IAAI,UAAU;QACZ,SAAS,KAAK,GAAG;QACjB,MAAM,SAAS,IAAI;QACnB,OAAO,SAAS,IAAI,CAAC;YAAE,SAAS;QAAgB;IAClD,OAAO;QACL,MAAM,uHAAA,CAAA,UAAI,CAAC,MAAM,CAAC;YAAE;YAAM;QAAM;QAChC,OAAO,SAAS,IAAI,CAAC;YAAE,SAAS;QAAc;IAChD;AACF","debugId":null}}]
}